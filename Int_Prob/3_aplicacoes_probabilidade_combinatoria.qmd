---
title: "Aplicações de Probabilidade em arranjos, permutações e combinações"
lang: pt # Equações ficarem referenciadas em Português

toc: true
toc-title: "Nesta página"
toc-location: right

execute: 
  warning: false
  message: false

format:
  html:
    code-fold: true
    code-summary: "Mostrar Código"
---

# Definições

**Definição** O *Fatorial* de um número $n$ é o produto de todos os naturais menores ou iguais a $n$. Notação: fatorial de $n$ é dado por $n!$.

$$
n! = n\times(n-1)\times(n-2)\times ... \times 1
$$

**Definição** Uma *Permutação* é o número de maneiras de ordenar os elementos de um conjunto, de forma que a ordem de cada elemento seja considerada e a ordem de todos os elementos seja diferente. Se em um conjunto estiver presentes $m$ elementos distintos, a quantidade de maneiras diferentes que podemos ordenar é dada pelo Fatorial de $m$, ou seja, por $m!$.

**Definição** Um *Arranjo* é um agrupamento ordenado de elementos de um conjunto, onde a ordem dos elementos **importa**. Notação: o arranjo de $N$ elementos em subgrupos de $n$ elementos é dado por $A^N_n$.

$$
A^N_n = \frac{N!}{(N-n)!} = N(N-1)...(N-n+1)
$$

**Definição** Uma *Combinação* é um agrupamento de elementos de um conjunto, onde a ordem dos elementos **não importa**. Notação: a combinação de $N$ elementos em subgrupos de $n$ elementos é dado por $C^N_n$ ou ${N \choose n}$.

$$
C^N_n = \frac{A^N_n}{n!} = \frac{N!}{n!(N-n)!} = \frac{N(N-1)...(N-n+1)}{n!}
$$

Pela definição clássica de probabilidade, a probabilidade de um evento $A$ é dada por:

$$
P(A) = \frac{Número\ de\ Elementos\ em\ A}{Número\ total\ de\ Elementos\ em\ \Omega}
$$

# Exemplos

Abaixo, seguem alguns exemplos:

**Exemplo** Um restaurante oferece oito opções para montar sua refeição, dentre as quais, o cliente pode escolher 4 destas para cada prato. Suponha que um cliente almoçará todos os dias neste restaurante, enquanto houver opções diferentes. Quantos dias este cliente poderá almoçar no restaurante, sem repetir uma refeição?^[Retirado [deste link](https://www.todamateria.com.br/analise-combinatoria/).]

R.: Queremos saber de quantas maneiras diferentes podemos formar subconjuntos com quatro elementos, a partir de um conjunto com 8 elementos distintos.

Nesta escolha, a ordem dos itens escolhidos não possui nenhuma prioridade, por isso, se trata de um problema de combinação.

$$
C^{8}_4 = {8 \choose 4} = \frac{8 \times 7 \times 6 \times 5}{4 \times 3 \times 2 \times 1} = 70
$$

**Exemplo** (@dantas2013probabilidade) Seis times participam de um torneio de basquete. Cada uma das equipes enfrentam todas a demais. Quantos jogos serão realizados?

R.: Precisamos calcular o número de amostras não ordenadas de tamanho 2 de um conjunto de 6 elementos. Logo:

$$
C^{6}_2 = {6 \choose 2} = \frac{6 \times 5}{2 \times 1} = 15
$$

**Exemplo** Qual a probabilidade de um apostador ganhar o prêmio máximo da mega-sena, fazendo uma aposta mínima, ou seja, apostar exatamente nos seis números sorteados, dentre todos os sessenta números possíveis?

R.: primeiramente, vamos calcular a quantidade de jogos diferentes de seis números podemos formar com os sessenta números da mega-sena:

$$
C^{60}_6 = {60 \choose 6} = \frac{60!}{6!(60-6)!} = \frac{60 \times 59  \times 58  \times 57  \times 56  \times 55}{6 \times 5 \times 4 \times 3 \times 2 \times 1} = 50.063.860
$$

Fazendo o cálculo da probabilidade pela linguagem R:

```{r}
n_sorteios_possiveis <- choose(60, 6)
print(paste0(format(1 / n_sorteios_possiveis * 100, scientific = FALSE), "%"))
```

Logo, a resposta é $\frac{1}{50063860} = 0,000001997449\%$.

**Exemplo** (@degroot2012probability) Suponha que uma moeda honesta seja lançada 10 vezes e que se deseja determinar (a) a probabilidade $p_1$ de obter exatamente três caras e (b) a probabilidade $p_2$ de obter três ou menos caras.

R.: a) O número total possível de sequências diferentes de 10 caras e coroas é $2^{10}$, e pode-se supor que cada uma dessas sequências seja igualmente provável. O número dessas sequências que contêm exatamente três caras será igual ao número de arranjos diferentes que podem ser formados com três caras e sete coroas. Aqui estão alguns desses arranjos (onde, "H" é cara e "T" é coroa): HHHTTTTTTT, HHTHTTTTTT, HHTTHTTTTTT, TTHTHTHTTT, etc. Cada arranjo é equivalente a uma escolha de onde colocar as 3 caras entre os 10 lançamentos, então há $C^{10}_3$ possibilidades. Logo, a probabilidade de obter exatamente três caras é então

$$
p_1 = \frac{C^{10}_{3}}{2^{10}} \approx 0,1172 = 11,72\%
$$

Fazendo o cálculo da probabilidade pela linguagem R:

```{r}
print(paste0(format(choose(10, 3) / (2^10), scientific = FALSE), "%"))
```

b) Usando o mesmo raciocínio da parte (a), o número de sequências no espaço amostral que contêm exatamente k caras (k = 0, 1, 2, 3) é $C^{10}_k$. Portanto, a probabilidade de obter três ou menos caras é


$$
p_2 = \frac{C^{10}_{0} \times C^{10}_{1} \times C^{10}_{2} \times C^{10}_{3}}{2^{10}} = \frac{1+10+45+120}{2^{10}} = \frac{176}{2^{10}} \approx 0,1719 = 17,19\%
$$

Fazendo o cálculo da probabilidade pela linguagem R:

```{r}
print(paste0(format((choose(10, 0) + choose(10, 1) + choose(10, 2) + choose(10, 3)) / (2^10), scientific = FALSE), "%"))
```

**Exemplo** (@degroot2012probability) Suponha que uma turma contenha 15 meninos e 30 meninas, e que 10 alunos sejam selecionados aleatoriamente para uma tarefa especial. Devemos determinar a probabilidade p de que exatamente três meninos sejam selecionados. O número de combinações diferentes dos 45 alunos que podem ser obtidas na amostra de 10 alunos é ${45 \choose 10}$, e a afirmação de que os 10 alunos são selecionados aleatoriamente significa que cada uma dessas ${45 \choose 10}$ combinações possíveis é igualmente provável. Portanto, devemos encontrar o número dessas combinações que contêm exatamente três meninos e sete meninas. Quando uma combinação de três meninos e sete meninas é formada, o número de
combinações diferentes nas quais três meninos podem ser selecionados entre os 15 meninos disponíveis é ${15 \choose 3}$, e o número de combinações diferentes nas quais sete meninas podem ser selecionadas entre as 30 meninas disponíveis é
${30 \choose 7}$. Como cada uma dessas combinações de três meninos pode ser pareada com cada uma das combinações de sete meninas para formar uma amostra distinta, o número de combinações contendo exatamente três meninos é ${15 \choose 3}$ ${30 \choose 7}$. Portanto, a probabilidade desejada é

$$
p = \frac{{15 \choose 3} {30 \choose 7}}{{45 \choose 10}} \approx 0,2904 = 29,04\%
$$

Fazendo o cálculo da probabilidade pela linguagem R:

```{r}
print(paste0(format((choose(15, 3) * choose(30, 7)) / choose(45, 10), scientific = FALSE), "%"))
```
